files:
  dev:
    generate: conda
    conda_dir: output/actual
    matrix:
      cuda: ["11.5", "11.6"]
      arch: [x86_64, arm64]
      py: ["3.8", "3.9"]
    includes:
      - build
      - test
channels:
  - rapidsai
  - conda-forge
dependencies:
  conda:
    common:
      build:
        - clang-tools=11.1.0
        - spdlog>=1.8.5,<1.9
    specific:
      - matrix:
          cuda: "11.5"
        build:
          - cudatoolkit=11.5
      - matrix:
          cuda: "11.6"
        build:
          - cudatoolkit=11.6
      - matrix:
          arch: x86_64
          py: "3.9"
        build:
          - some_amd64_39_build_dep
      - matrix:
          cuda: "11.5"
          py: "3.8"
        test:
          - some_115_38_build_dep
      - matrix:
          arch: arm64
          cuda: "11.5"
          py: "3.8"
        test:
          - super_specific_dep
