files:
  all:
    generate: [conda, requirements]
    requirements_dir: output/actual
    conda_dir: output/actual
    matrix:
      cuda: ["11.5", "11.6"]
    includes:
      - build
      - test
  test:
    generate: none
    includes:
      - test
channels:
  - rapidsai
  - conda-forge
dependencies:
  conda_and_requirements:
    common:
      build:
        - black=22.3.0
        - clang=11.1.0
      test:
        - pytest
        - pytest-cov
    specific:
      - matrix:
          cuda: "11.5"
        build:
          - cuda-python>=11.5,<11.7.1
      - matrix:
          cuda: "11.6"
        build:
          - cuda-python>=11.6,<11.7.1
  conda:
    common:
      build:
        - clang-tools=11.1.0
        - spdlog>=1.8.5,<1.9
    specific:
      - matrix:
          cuda: "11.5"
        build:
          - cudatoolkit=11.5
      - matrix:
          cuda: "11.6"
        build:
          - cudatoolkit=11.6
  requirements:
    common:
      build:
        - some_common_req_misc_dep
